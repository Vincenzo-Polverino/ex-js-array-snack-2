<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snack 2</title>
</head>

<body>
    <script>
        const books = [
            {
                title: "React Billionaire",
                pages: 250,
                author: {
                    name: 'Alice',
                    age: 35
                },
                available: false,
                price: '101€',
                tags: ['advanced', 'js', 'react', 'senior']
            },
            {
                title: "Advanced JS",
                pages: 500,
                author: {
                    name: 'Bob',
                    age: 20
                },
                available: true,
                price: '25€',
                tags: ['advanced', 'js', 'mid-senior']
            },
            {
                title: "CSS Secrets",
                pages: 320,
                author: {
                    name: 'Alice',
                    age: 17
                },
                available: true,
                price: '8€',
                tags: ['html', 'css', 'junior']
            },
            {
                title: "HTML Mastery",
                pages: 200,
                author: {
                    name: 'Charlie',
                    age: 50
                },
                available: false,
                price: '48€',
                tags: ['html', 'advanced', 'junior', 'mid-senior']
            },
        ];


        function applyDiscount(price) {
            const priceNumber = parseFloat(price.replace('€', '').replace(',', '.'));
            const discountedPrice = priceNumber * 0.8;
            return discountedPrice.toFixed(2);
        }

        const availableBooks = books.filter(book => book.available);


        const discountedBooks = availableBooks.map(book => {
            return {
                ...book,
                price: `${applyDiscount(book.price)}€`,
            };
        });


        const fullPricedBook = discountedBooks.find(book => {
            const priceWithoutCurrency = parseFloat(book.price.replace('€', '').replace(',', '.'));
            return priceWithoutCurrency === Math.floor(priceWithoutCurrency);
        });

        console.log('abiable books: ', availableBooks);
        console.log('discaunted books:', discountedBooks);
        console.log('fulpriced books:', fullPricedBook);


    </script>

</body>

</html>